!function(a,b){var c=a.PMTagObject||"pm";a[c]||(a[c]={});var d=a[c];d.initialized||(d.err=[],d.qs={},d.tp={},d.initialized=!1,d.fired=!1);var e=(new Date).getTime(),f=63072e6,g=18e5,h={data:{hash:function(a){var b,c,d,e=0;if("string"!=typeof a||0===a.length)return e;for(b=0,d=a.length;b<d;b++)c=a.charCodeAt(b),e=(e<<5)-e+c,e|=0;return e},normalize:function(a){if(!(a.length<6||a.indexOf("@")<1))return a.toString().trim().toLowerCase()},sha256:function(a){return j.codec.hex.fromBits(j.hash.sha256.hash(a))}},log:{error:function(a,b){var c=h.request.createQueryString();d.err.push(a),h.request.batch(c)}},identity:{client:function(a,b){a&&b&&e-b>f&&(a=null,b=null);var c=a||h.storage.getItem("_pm_id");return c&&c.toString().match(/^0+(?!\.|$)|[^0-9]+/)&&(c=null),!c||a?(b&&e>b&&(f-=e-b),c=a||h.identity.unique_id(),h.storage.setItem("_pm_id",c,f)):d.rv=1,c},getTracker:function(){d.cd||h.identity.init();var a=e+0;return"_rt="+d.cid+"-"+d.sid+"-"+a},init:function(){if(a&&a.location&&a.location.href){var b=/[^\w]_rt=([^&#]+)/gi,c=b.exec(a.location.href);if(c&&c[1]){var e=c[1].split("-");e.length&&e.length>2&&(d.cid=h.identity.client(e[0],e[2]),d.sid=h.identity.session(e[1],e[2]))}}d.cid||(d.cid=h.identity.client()),d.sid||(d.sid=h.identity.session()),d.pvw||(d.pvw=h.identity.pageview()),d.cd=function(){return h.identity.getTracker()}},pageview:function(){if(d&&d.pvw)return d.pvw;var a=["x","x","x","x","x","x","x","x","-","x","x","x","x","-","4","x","x","x","-","y","x","x","x","-","x","x","x","x","x","x","x","x","x","x","x","x"],c=0,f=0,g="",i=d.sid;i&&"undefined"!==i||(d.sid=h.identity.session(),i=d.sid);for(var j=e.toString(16).substr(-8),k=Math.abs(h.data.hash(b.location.href)).toString(16),l=parseInt(i).toString(16),m=j+k+l+"00000000000000";c<36;)"y"===a[c]?g+="a":"x"===a[c]?(g+=m[f],f++):g+=a[c],c++;return d.pvw=g,g},session:function(a,b){a&&b&&e-b>g&&(a=null,b=null);var c=a||h.storage.getItem("_pm_sid");return c&&c.toString().match(/^0+(?!\.|$)|[^0-9]+/)&&(c=null),c&&!a||(c=a||h.identity.unique_id()),h.storage.setItem("_pm_sid",c,g),c},unique_id:function(){return(Math.floor(1e17*Math.random())+""+ +new Date).substr(-18)}},request:{batch:function(a){var b=h.request.createQueryString(),c=0;for(var e in a)a.hasOwnProperty(e)&&(d.tp.hasOwnProperty(e)&&d.tp[e]===a[e]||("mv"===e&&a.hasOwnProperty("mk")&&(d.qs.mk=a.mk,b.mk=a.mk,c++),d.qs[e]=a[e],b[e]=a[e],c++));if(d.fired){if(0===c)return;h.request.send(b)}},createQueryString:function(){return{aid:d.aid||null,cid:d.cid||h.identity.client(),sid:d.sid||h.identity.session(),pvw:d.pvw||h.identity.pageview(),v:"1.15.0"}},send:function(a){var b=new XMLHttpRequest;if(!b)return void h.log.error("Could not initialize XMLHttpRequest",null);if(b.onreadystatechange=function(){4===b.readyState&&b.status},d.err.length){var c={};if(a.hasOwnProperty("add"))try{c=JSON.parse(a.add)}catch(a){}c.err=d.err,a.add=JSON.stringify(c)}var e=[];for(var f in a)a.hasOwnProperty(f)&&a[f]&&(d.tp[f]=a[f],e.push(f+"="+encodeURIComponent(a[f])));b.withCredentials=!0,b.open("GET","https://df.pmweb.com.br/push/?"+e.join("&")),b.send(null),d.fired=!0}},storage:{setItem:function(c,d,f){var g,i,j,k,l=new Date(e+f);k=encodeURIComponent(c)+"="+encodeURIComponent(d)+"; expires="+l.toUTCString()+"; path=/",a.hasOwnProperty("location")&&null!==a.location?(j=a.location.host,i=j.split("."),1===i.length?b.cookie=k:(i.shift(),g="."+i.join("."),b.cookie=k+"; domain="+encodeURIComponent(g),null!==h.storage.getItem(c)&&h.storage.getItem(c)===d||(g="."+j,b.cookie=k+"; domain="+encodeURIComponent(g)))):b.cookie=k},getItem:function(a){var c="(?:(?:^|.*;\\s*)"+encodeURIComponent(a)+"\\s*\\=\\s*([^;]*).*$)|^.*$";return decodeURIComponent(b.cookie.replace(new RegExp(c),"$1"))}}},i={action:function(c){var e={},f=["view","click","detail","cart","remove","checkout","purchase"];if("object"!=typeof c){var g=c+"";g=g.replace(/([-_A-Za-z]+):/g,'"$1":'),g=g.replace(/[,\s]+([}\]])/g,"$1");try{c=JSON.parse(g)}catch(a){h.log.error("unable to decode object",a)}if("object"!=typeof c)return}var j=0;try{for(var k in c)if(c.hasOwnProperty(k)){if("match"===k){if(c.match.hasOwnProperty("email")&&c.match.email){var l=h.data.normalize(c.match.email.toString());if(!l)continue;var m=h.data.sha256(l);if(!m)continue;e.mk="sha256",e.mv=m}else if(c.match.hasOwnProperty("sha256")&&c.match.sha256&&"bf43b7377d6c42a1c71df141089a31c8e094d0e7f5d825e2290754490b110887"!==c.match.sha256)e.mk="sha256",e.mv=c.match.sha256;else if(c.match.hasOwnProperty("md5")&&c.match.md5)e.mk="md5",e.mv=c.match.md5;else if(c.match.hasOwnProperty("riid")&&c.match.riid)e.mk="riid",e.mv=c.match.riid;else if(c.match.hasOwnProperty("sfid")&&c.match.sfid)e.mk="sfid",e.mv=c.match.sfid;else{if(!c.match.hasOwnProperty("customer_id")||!c.match.customer_id||"0"===c.match.customer_id)continue;e.mk="customer_id",e.mv=c.match.customer_id}h.storage.setItem("_pm_m",e.mk[0]+e.mv,2592e6),j++}if("add"===k){var n=JSON.stringify(c.add);if("{}"===n||"[]"===n||"[{}]"===n||'""'===n||"null"===n)continue;e.add=n,j++}if("category"===k&&(c.category.hasOwnProperty("id")&&c.category.id&&(e.ci=c.category.id.toString(),j++),c.category.hasOwnProperty("name")&&c.category.name&&(e.cn=c.category.name.toString(),j++)),"transaction"===k){var o=i.transaction(c[k]);"undefined"!==o&&(e[k]=JSON.stringify(o),j++)}if(f.indexOf(k)>=0){var p=[];if(c[k]instanceof Array){for(var q in c[k])if(c[k].hasOwnProperty(q)){var r=i.product(c[k][q]);r&&"undefined"!==r.id&&p.push(r)}}else p.push(i.product(c[k]));p.length&&(e[k]=JSON.stringify(p),j++)}}}catch(a){}if(j){if(d.tp&&d.tp.url&&a.location&&a.location.href&&d.tp.url!==a.location.href){var s=this.browser(a,b);for(var t in s)t&&s.hasOwnProperty(t)&&(e[t]=s[t])}h.request.batch(e)}},browser:function(a,b){var c={};return a.screen&&a.screen.width&&a.screen.height&&(c.rs=a.screen.width+"x"+a.screen.height),b.title&&(c.tt=b.title),a.outerWidth&&a.outerHeight&&(c.ws=a.outerWidth+"x"+a.outerHeight),b.charSet&&(c.cs=b.charSet),a.navigator&&a.navigator.oscpu&&(c.os=a.navigator.oscpu),a.navigator&&a.navigator.userAgent&&(c.ua=a.navigator.userAgent),b.referrer&&(c.rf=b.referrer),a.location&&a.location.href&&(c.url=a.location.href),c},product:function(a){var b=["name","id","add","price","brand","category","variant","list","quantity","sku","size","position"];if("object"==typeof a){var c={};for(var d in b)if(a.hasOwnProperty(b[d])){var e,f=b[d];try{if("undefined"===a[f]||""===a[f]||null===a[f]||"null"===a[f])continue;"add"===f?c[f]=JSON.stringify(a[f]):"price"===f?(e=parseFloat(a[f]),isNaN(e)||(c[f]=e)):"quantity"===f||"position"===f?(e=parseInt(a[f]),isNaN(e)||(c[f]=e)):c[f]=String(a[f])}catch(a){}}if(c.hasOwnProperty("id"))return c}},queue:function(c){c.push=function(a){var b=void 0!==a[0]?a[0]:a;i.action(b)};var e=h.request.createQueryString();c.forEach(function(c){if(c.length)if("init"===c[0]&&(d.aid||c[1])){if(d.initialized)return;d.aid||(d.aid=c[1]),e.aid=d.aid;var f=h.storage.getItem("_pm_m");if(f&&f.length){var j=f[0],k=f.substr(1);"c"===j?(e.mk="customer_id",e.mv=k):"s"===j?(e.mk="sha256",e.mv=k):"m"===j?(e.mk="md5",e.mv=k):"r"===j?(e.mk="riid",e.mv=k):"e"===j&&(e.mk="sfid",e.mv=k)}var l=i.browser(a,b)||{};for(var m in l)l.hasOwnProperty(m)&&(e[m]=l[m]);d.rv&&(e.rv=1);var n=i.utms(a.location.href)||{};for(var o in n)if(n.hasOwnProperty(o))switch(o){case"responsys":var p=/([0-9,]+)_?(\d+)?_?(20\d{6})?_?(.*)/,q=n[o].toString().match(p);if(!q)continue;q[1]&&(e.mk="riid",e.mv=q[1].replace(",",""),h.storage.setItem("_pm_m",e.mk[0]+e.mv,2592e6),h.storage.setItem("_pm_riid",e.mv,62208e6)),q[2]&&(e.rl=q[2]),q[3]&&(e.sd=q[3]),q[4]&&(e.sg=q[4]);break;case"sfmc":var r=/(\d+)_?([0-9A-F]+)?_?(.*)/,s=n[o].toString().match(r);if(!s)continue;s[1]&&(e.ji=s[1]),s[2]&&(e.mk="sfid",e.mv=s[2],h.storage.setItem("_pm_m","e"+e.mv,2592e6),h.storage.setItem("_pm_sfid",e.mv,62208e6)),s[3]&&(e.sg=s[3]);break;case"source":e.us=n[o];break;case"medium":e.um=n[o];break;case"campaign":e.uc=n[o]}if(n.source||n.medium||n.campaign){var t=n.source||"",u=n.medium||"",v=n.campaign||"",w=t+"|"+u+"|"+v;h.storage.setItem("_pm_u",w,g)}var x=h.storage.getItem("_pm_u");if(x&&x.length>2){var y=""+h.data.hash(x)+d.sid;if(e.sid=y.replace(/[^0-9]/,"").substr(0,18),d.sid=e.sid,e.us&&e.um&&e.uc);else{var z=x.split("|");3===z.length&&(e.us=z[0],e.um=z[1],e.uc=z[2])}}d.initialized=!0;var A=Math.floor(100*Math.random()+150);window.setTimeout(function(){h.request.send(d.qs)},A),h.request.batch(e)}else i.action(c[0])})},transaction:function(a){var b=["id","add","affiliation","revenue","tax","shipping","coupon"];if("object"==typeof a){var c={};for(var d in b)if(a.hasOwnProperty(b[d])){var e=b[d];try{if("undefined"===a[e]||""===a[e]||null===a[e]||"null"===a[e])continue;if("revenue"===e||"tax"===e||"shipping"===e){var f=parseFloat(a[e]);isNaN(f)||(c[e]=f)}else c[e]="add"===e?JSON.stringify(a[e]):String(a[e])}catch(a){}}if(c.hasOwnProperty("id"))return c}},utms:function(a){for(var b,c=/[^\w](?:utm_(source|medium|campaign|responsys|sfmc))=([^&#]+)/gi,d={},e=function(a){return decodeURIComponent(a.replace(/\+/g," "))};null!==(b=c.exec(a));)d[e(b[1])]=e(b[2]);return d}};if(d.fillFromDataLayer=function(b,c){if(b&&b.length){var d={};for(var e in c)"string"==typeof c[e]&&(d[c[e]]=null);for(var f=a.dataLayer.length,g=0;g<f;g++)if(null!==b[g])for(var h in c)if(b[g].hasOwnProperty(c[h])){var i=c[h];if(void 0!==b[g][i])if(d[i]&&"object"==typeof d[i]&&"object"==typeof b[g][i])for(var j in b[g][i])b[g][i][j]&&(d[i][j]=b[g][i][j]);else d[i]=b[g][i]}return d}},!d)return void h.log.error("object not created");var j={hash:{sha256:function(a){a?(this._h=a._h.slice(0),this._buffer=a._buffer.slice(0),this._length=a._length):this.reset()}},codec:{hex:{fromBits:function(a){var b,c="";for(b=0;b<a.length;b++)c+=(0xf00000000000+(0|a[b])).toString(16).substr(4);return c.substr(0,j.bitArray.bitLength(a)/4)}},utf8String:{toBits:function(a){a=unescape(encodeURIComponent(a));var b,c=[],d=0;for(b=0;b<a.length;b++)d=d<<8|a.charCodeAt(b),3==(3&b)&&(c.push(d),d=0);return 3&b&&c.push(j.bitArray.partial(8*(3&b),d)),c}}},bitArray:{concat:function(a,b){if(0===a.length||0===b.length)return a.concat(b);var c=a[a.length-1],d=j.bitArray.getPartial(c);return 32===d?a.concat(b):j.bitArray._shiftRight(b,d,0|c,a.slice(0,a.length-1))},bitLength:function(a){var b,c=a.length;return 0===c?0:(b=a[c-1],32*(c-1)+j.bitArray.getPartial(b))},partial:function(a,b,c){return 32===a?b:(c?0|b:b<<32-a)+1099511627776*a},getPartial:function(a){return Math.round(a/1099511627776)||32},_shiftRight:function(a,b,c,d){var e,f,g=0;for(void 0===d&&(d=[]);b>=32;b-=32)d.push(c),c=0;if(0===b)return d.concat(a);for(e=0;e<a.length;e++)d.push(c|a[e]>>>b),c=a[e]<<32-b;return g=a.length?a[a.length-1]:0,f=j.bitArray.getPartial(g),d.push(j.bitArray.partial(b+f&31,b+f>32?c:d.pop(),1)),d}}};j.hash.sha256.hash=function(a){return(new j.hash.sha256).update(a).finalize()},j.hash.sha256.prototype={blockSize:512,reset:function(){return this._h=this._init.slice(0),this._buffer=[],this._length=0,this},update:function(a){"string"==typeof a&&(a=j.codec.utf8String.toBits(a));var b,c=this._buffer=j.bitArray.concat(this._buffer,a),d=this._length,e=this._length=d+j.bitArray.bitLength(a);for(b=512+d&-512;b<=e;b+=512)this._block(c.splice(0,16));return this},finalize:function(){var a,b=this._buffer,c=this._h;for(b=j.bitArray.concat(b,[j.bitArray.partial(1,1)]),a=b.length+2;15&a;a++)b.push(0);for(b.push(Math.floor(this._length/4294967296)),b.push(0|this._length);b.length;)this._block(b.splice(0,16));return this.reset(),c},_init:[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],_key:[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],_block:function(a){var b,c,d,e,f=a.slice(0),g=this._h,h=this._key,i=g[0],j=g[1],k=g[2],l=g[3],m=g[4],n=g[5],o=g[6],p=g[7];for(b=0;b<64;b++)b<16?c=f[b]:(d=f[b+1&15],e=f[b+14&15],c=f[15&b]=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+f[15&b]+f[b+9&15]|0),c=c+p+(m>>>6^m>>>11^m>>>25^m<<26^m<<21^m<<7)+(o^m&(n^o))+h[b],p=o,o=n,n=m,m=l+c|0,l=k,k=j,j=i,i=c+(j&k^l&(j^k))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0;g[0]=g[0]+i|0,g[1]=g[1]+j|0,g[2]=g[2]+k|0,g[3]=g[3]+l|0,g[4]=g[4]+m|0,g[5]=g[5]+n|0,g[6]=g[6]+o|0,g[7]=g[7]+p|0}},h.identity.init(),d.q?i.queue(d.q):h.log.error("queue not found",null)}(window,document);!function(a,b){if(a.pm&&a.pm.aid&&"PM-8SMZ"===a.pm.aid&&void 0!==a.dataLayer)try{var c,d,e,f,g=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,h=function(){return a.pm.fillFromDataLayer(a.dataLayer,["flowid","flowId","home","page","custom","datos-global","transactionId"])},i=a.location,j={Search:{id:"oda",adults:"adults",price:"bestPrice",priceRoute:"bestPriceOutbound",cabin:null,children:"children",currency:"currency",departureDate:"departureDate",destinationAirportCountry:"destinationAirportCountry",destinationAirportCode:null,infants:"infants",route:"oda",originAirportCountry:"originAirportCountry",originAirportCode:null,passengers:"pax",returnDate:"returnDate",routeType:"routeType",travelType:"travelType"},Flight:{adults:"adults",children:"children",currency:"currency",departureDate:"departureDate",departureFare:"fareNameOutbound",destinationAirportCode:null,destinationAirportCountry:"destinationAirportCountry",fullRoute:"routing",infants:"infants",originAirportCountry:"originAirportCountry",originAirportCode:null,passengers:"pax",price_total:"total",price:"fare",returnFare:"fareNameInbound",returnDate:"returnDate",route:"oda",routeType:"routeType",tax:"tax",travelType:"travelType",idPurchase:"pnr"}},k={es:{btnSet:["VUELO_HOTEL","VUELO_AUTO","VUELO_HOTEL_AUTO","HOTEL_AUTO","HOTEL","AUTO"],ctyCode:{cl:"1f09fa5510a54a4614cecaf14e2566d94",co:"164accff3a4739c7aa8056bcc924c81ce",pe:"106e9d50a860702d8c56f1f41d728446b",ar:"15f8fcbe78bc5087d98bd65fac0d564e7",es:"03f11ab8b69a4060d0f00f180c062a4f9"}},pt:{btnSet:["FLIGHT_HOTEL","HOTEL","AUTO","SEGURO","PACKS"],ctyCode:{br:"147c77c8b0f8b7947c348e0a4c42b9e1f"}},en:{ctyCode:{ue:"0f8836d8f2f7054c829c91856b059f7cb",nz:"05483fa028f3ca6f4f594829705128ad3",au:"0c8be153e9b28349105c5db3561474ec8",uk:"09ad75b1d56a13201bdb2b32ed4b31f88"}},de:{ctyCode:{de:"0a47f2b3b2a22b5ef20541586d1391294"}},fr:{ctyCode:{fr:"07ca22487f312366d830af09886809f0d"}},it:{ctyCode:{it:"0e7c7aaca242c1ea82cf4dcd8e28a99e8"}}},l={set:function(c,d,e){var f,g,h,i,j;e?(h=new Date,h.setTime(h.getTime()+24*e*60*60*1e3),i="; expires="+h.toGMTString()):i="",j=a.location.host,1===j.split(".").length?b.cookie=c+"="+d+i+"; path=/":(g=j.split("."),g.shift(),f="."+g.join("."),b.cookie=c+"="+d+i+"; path=/; domain="+f,null!==l.get(c)&&l.get(c)===d||(f="."+j,b.cookie=c+"="+d+i+"; path=/; domain="+f))},get:function(a){for(var c=a+"=",d=b.cookie.split(";"),e=0;e<d.length;e++){for(var f=d[e];" "===f.charAt(0);)f=f.substring(1,f.length);if(0===f.indexOf(c))return f.substring(c.length,f.length)}return null},erase:function(a){l.set(a,"",-1)}},m=!1,n=function(){if(!(i.pathname.indexOf("pt_br")>-1)){var a=JSON.parse(decodeURIComponent(l.get("mmapi.store.p.0")));if(a&&a["mmparams.p"]){var c=a["mmparams.p"].uat;if(c){var d=JSON.parse(c.split("|")[1]);d.LT_CustomerID?pm({match:{customer_id:d.LT_CustomerID}}):d.LT_Email&&pm({match:{email:d.LT_Email}})}}for(var e=b.querySelectorAll("input[id*='email'], input[id*='login']"),f=0;f<e.length;f++)e[f].addEventListener("blur",function(a){var b=a.target.value;b&&g.test(b)&&pm({match:{email:b}})})}},o=function(a,b){var c={},d=j[a];for(var e in d)d[e]&&"function"!=typeof d[e]&&(c[e]=null!==b[d[e]]?b[d[e]]:null);if(c.route){var f=c.route.split("-");if(c.fullRoute){var g=c.fullRoute.split(f[1]);f[0]=g[0]+f[1],f[1]=f[1]+g[1]}c.departureCode=f[0],c.returnCode=f[1]}return c},p=function(a){return parseFloat(a.replace(".","").replace(".","").replace(",","."))},q=function(a){var b=/\_/g;return a.trim().toLowerCase().replace(/\ /g,"-").replace(b,"-").replace(":","")},r=function(a){if(a.search&&""!==a.search){var b=a.search.substring(1);return JSON.parse('{"'+decodeURI(b.replace(/^(\&)/g,"").replace(/"/g,'\\"').replace(/&(?!%20)/g,'","').replace(/=/g,'":"'))+'"}')}return null},s=function(a,b,c){for(;"BODY"!==a.tagName&&a.parentNode;)if(a=a.parentNode,(!b||a.className.indexOf(b)>-1)&&(!c||a.tagName===c))return a;return null},t=function(a,b){if(a&&b){var c=b.split("-");return c=a+"-"+c[1]+"-"+c[0]}},u=5,v=function(){if(c=h(),m||(n(),m=!0),"Shopping"===c.page)if(c.custom){var j=!1,l=null,w=!1,x=null,y=o("Search",c.custom),z=b.querySelector(".flight-selection");if(void 0!==a.MutationObserver){var A={childList:!0},B=new a.MutationObserver(function(b){var d,e;a:for(d=0;d<b.length;d++){var f=b[d].addedNodes;for(e=0;e<f.length;e++)if("object"==typeof f[e]&&"DIV"===f[e].tagName)for(var g=f[e].childNodes,k=0;k<g.length;k++)if(g[k].className.indexOf("flight-list")>0){if(j){y.departurePrice&&(j=!1,l=y.departurePrice,w=!0,D());break a}a.setTimeout(function(){if(c=h(),y=o("Search",c.custom),y.returnDate){var a=r(i),b=t(a.fecha2_dia,a.fecha2_anomes);y.returnDate!==b&&(y.returnDate=b)}x=E(c,y),pm({view:x})},3e3);break a}}});z&&B.observe(z,A)}var C=function(){a.setTimeout(function(){var a=b.querySelector(".flight.selected .price .value span"),d=b.querySelector(".forward-button");a&&d&&d.addEventListener("click",function(){y.departurePrice?y.returnPrice=p(a.innerText):(y.departurePrice=p(a.innerText),w&&(y.departurePrice=l||y.departurePrice)),pm({detail:{id:y.id,add:{flowId:c.flowId,information:y,location:c.home,url:i.href,urlParams:r(i)}}}),w=!0})},1500)},D=function(){var b=a.dataLayer||[],c=b.push;b.push=function(){var a=[].slice.call(arguments,0);try{a.length&&a[0].hasOwnProperty("action")&&"flight-opened"===a[0].action&&C()}catch(a){}return c.apply(b,a)}};D();var E=function(a,b){return{id:b.id,add:{flowId:a.flowId,information:b,location:a.home,url:i.href,urlParams:r(i)}}};x=E(c,y),pm({view:x})}else u>0&&(a.setTimeout(function(){v()},3e3),u--);else if("Formulario de pasajeros"===c.page){var F=o("Flight",c.custom);F.step="information",pm({checkout:[{id:F.route,add:{flowId:c.flowId,information:F,location:c.home,url:i.href,urlParams:r(i)}}]}),a.setTimeout(function(){var a=b.querySelector("input[id^='email']");a&&a.addEventListener("blur",function(a){var b=a.target.value;b&&g.test(b)&&pm({match:{email:b}})})},5e3)}else if("Pago"===c.page||"paso5"===c.page)var G=o("Flight",c.custom),H=0,I=a.setInterval(function(){var d=b.getElementById("monto_cajero");d&&(G.price_total=p(d.innerText),G.step="payment",pm({checkout:[{id:G.route,add:{flowId:c.flowid,information:G,location:c.home,url:i.href,urlParams:r(i)}}]}),a.clearInterval(I)),5===++H&&a.clearInterval(I)},2e3);else if("confirmacion"===c.page||"Confirmacion"===c.page){var J=o("Flight",c.custom);c.custom&&pm({transaction:{id:c.custom.pnr?c.custom.pnr:c.transactionId,revenue:c.custom.total?c.custom.total:null,add:{flowId:c.flowid,location:c.home}},purchase:[{id:J.route,add:{flowId:c.flowid,information:J,location:c.home,url:i.href,urlParams:r(i)}}]})}else if(a.location.pathname.split("/").length<=3&&a.LAN&&a.LAN.Environment){var K=a.LAN.Environment.country?a.LAN.Environment.country.toLowerCase():null,L=a.LAN.Environment.language?a.LAN.Environment.language:null;if(K&&L&&k[L]&&k[L].ctyCode[K]){var M=k[L].ctyCode[K],N=b.querySelector(".countrySelector-countryText");if(d=b.querySelector("div.find-experience"),e=b.querySelector("#accordion .lantours__programs-region fieldset[role='radiogroup']"),f=b.querySelector("li[data-submenu-id='"+M+"']")){var O,P,Q=function(a,b){if(a&&a.length>0)for(var c=0;c<a.length;c++)a[c].addEventListener("click",function(a){var c=a.target;if("SPAN"!==c.tagName)R("LTBAR",b,a.target.title);else{var d=s(c,"SubMenu-link subnav-item");d&&R("LTBAR",b,d.title)}})},R=function(a,b,c){if(a&&b){var d={messagetype:"home_nav",home_nav:{type:a,category:q(b),country:q(N.innerText),code:K}};c&&(d.home_nav.sub_category=q(c)),pm({add:d})}},S=f.querySelectorAll("[id='"+M+"'] .SubMenu-linkList a"),T=f.querySelectorAll("[id='"+M+"'] .SubMenu-row div div.SubMenu-cell:nth-child(1) ul");if(e&&d){var U;if(a.appConfig&&a.appConfig.hasOwnProperty("IsMobile"))U=a.appConfig.IsMobile();else{var V=b.querySelector(".ui-datepicker-calendar");V&&V.children&&(U=2===V.children)}for(var W=function(a){a&&k[L].btnSet.indexOf(a)>-1&&R("LTSRC",a)},X=function(a){a&&a.addEventListener("click",function(a){if("LABEL"===a.target.tagName)$=a.target.dataset.value;else if("SPAN"===a.target.tagName){var b=s(a.target,"","LABEL");$=b.dataset.value}W($)})},Y=d.querySelectorAll(".find-experience__badge"),Z=0;Z<Y.length;Z++)Y[Z].addEventListener("click",function(a){var b=a.target.innerText;b||"SPAN"!==a.target.tagName||(b=a.target.nextElementSibling.innerText)});var $,_=U?e.querySelectorAll("input[type='radio']"):e.querySelectorAll("label[data-value]");if("1"===U)for(var aa=0;aa<_.length;aa++)_[aa].addEventListener("change",function(a){$=a.target.className,W($)}),X(_[aa].nextElementSibling);else for(var ba=0;ba<_.length;ba++)X(_[ba].nextElementSibling);P=f.querySelector("a"),P&&P.addEventListener("click",function(){R("LTBAR","hoteles-autos-paquetes")}),S&&S.length>0&&Q(S,"main"),T&&3===T.length&&(Q(T[0].querySelectorAll("a"),"paquete"),Q(T[1].querySelectorAll("a"),"reserva"),Q(T[2].querySelectorAll("a"),"enterate")),O=b.querySelector("a[datalayer-id='pacotesLatamTravelFooterBox']"),O&&O.addEventListener("click",function(){R("LTBAR","paquete","Todos los destinos")})}else if(["au","de","eu","es","fr","it","nz","uk"].indexOf(K)&&S.length&&3===T.length){var ca=T[0].querySelectorAll("a"),da=T[1].querySelectorAll("a"),ea=T[2].querySelectorAll("a");Q(S,"main"),"uk"===K||"de"===K||"it"===K||"fr"===K?(Q(ca,"south-america"),Q(da,"to-city"),Q(ea,"to-city")):"au"===K||"nz"===K?(Q(ca,"to-city"),Q(da,"south-america"),Q(ea,"from-city")):"ue"===K?(Q(ca,"south-america"),Q(da,"to-city"),Q(ea,"brazil")):"es"===K&&(Q(ca,"from-city"),Q(da,"south-america"),Q(ea,"to-city")),O=b.querySelector("a[datalayer-id='destinationOffersFooterBox']"),O&&O.addEventListener("click",function(){R("LTBAR","south-america","all-destinations")}),P=f.querySelector("a"),P&&P.addEventListener("click",function(){R("LTBAR","flights-destinations")})}else a.setTimeout(function(){v()},3e3)}else null===c.page&&u>0&&(a.setTimeout(function(){v()},3e3),u--)}}else if(a.location.pathname.indexOf("/es_cl/conocerio/")>0){var fa=function(a){for(var b=0;b<a.length;b++)a[b].addEventListener("click",function(a){var b=s(a.target,"link-destaque","A");b&&pm({add:{messagetype:"vamos_nav",vamos_nav:{type:"destaque",category:b.href?b.href.split("/")[6]:null}}})})},ga=b.querySelectorAll("div[class*='destaque-home-']");if(0===ga.length)var ha=0,ia=a.setInterval(function(){ga=b.querySelectorAll("div[class*='destaque-home-']"),ha++,ga?(fa(ga),a.clearInterval(ia)):5===ha&&a.clearInterval(ia)},3e3);else fa(ga)}else null===c.page&&u>0&&(a.setTimeout(function(){v()},3e3),u--)};v()}catch(a){a.message&&pm({add:{err:a.message}})}}(window,document);